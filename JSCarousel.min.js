/**JSCarousel 1.0.0 Author: Rachid HARAKAT Author mail: rachidonline<at>gmail<dot>com Project link: https://optimizlab.github.io/JSCarousel/ **/
(function(){function JSCarousel(ar){if(!ar)return;this.cr=document.querySelector(ar.carousel)||null;this.sl=this.cr.querySelectorAll(ar.slide)||null;this.nb=document.querySelector(ar.navButtons)||null;if(this.nb){this.bi=this.nb.querySelector(ar.btnIndex)||null;this.bn=this.nb.querySelector(ar.btnNext)||null;this.bp=this.nb.querySelector(ar.btnPrev)||null;}this.ap=parseFloat(ar.autoPlay)||0;this.crw=0;this.acs=1;this.anb=[];this.init();}JSCarousel.prototype.init=function(){this.scw();if(this.nb){this.sab();}if(this.ap>0){this.sap();}};JSCarousel.prototype.scw=function(){var i=0;for(i;i<this.sl.length;i++){var style=this.sl[i].currentStyle||window.getComputedStyle(this.sl[i]),width=this.sl[i].offsetWidth,margin=parseFloat(style.marginLeft)+parseFloat(style.marginRight),padding=parseFloat(style.paddingLeft)+parseFloat(style.paddingRight),border=parseFloat(style.borderLeftWidth)+parseFloat(style.borderRightWidth);var rw=width+(margin-padding)+border;this.crw+=parseInt(rw);}this.cr.style.width=this.crw+'px';};JSCarousel.prototype.sab=function(){for(var i=1; i<=this.sl.length; i++){var mLi=document.createElement('li');var mBut=document.createElement('button');mBut.innerHTML=i;mBut.setAttribute("data-i",i);mBut.setAttribute("type",'button');mBut.setAttribute('class','anchor');if(i===1){mLi.setAttribute('class','first');}gtEv(mBut,this);mLi.appendChild(mBut);this.bi.appendChild(mLi);this.anb.push(mBut);}gtnEv(this.bn,this);gtpEv(this.bp,this);};JSCarousel.prototype.sap=function(){var _=this;setInterval(function(){_.gtn();},this.ap*1000);};JSCarousel.prototype.goTo=function(p){var p=parseInt(p);this.acs=p-1;if(p===1){this.cr.style.left='0px';}else{this.cr.style.left=parseFloat(((this.crw/this.sl.length)*(p-1))*-1)+'px';}for(var i=0; i<this.sl.length; i++){this.cov(i);}};JSCarousel.prototype.gtn=function(){var p=this.acs+1;if(this.acs >= this.sl.length-1){p=1;}else{p=p+1;}this.acs=p;this.goTo(p);};JSCarousel.prototype.gtp=function(){var p=this.acs;if(p<=0){p=this.sl.length;}else{/*p=p-1;*/}this.acs=p;this.goTo(p);};JSCarousel.prototype.cov=function(i){if(i===this.acs){this.sl[i].setAttribute('data-active',true);if(this.nb){this.anb[this.acs].className+=' active';}}else{this.sl[i].setAttribute('data-active',false);if(this.nb){this.anb[i].setAttribute('class','anchor');}}};function gtEv(a,b){if(window.addEventListener){a.addEventListener('click',function(){b.goTo(parseInt(this.getAttribute('data-i')));});}else if(window.attachEvent){a.attachEvent('onclick',function(){b.goTo(parseInt(this.getAttribute('data-i')));});}else{a.onclick=function(){b.goTo(parseInt(this.getAttribute('data-i')));};}}function gtnEv(a,b){if(window.addEventListener){a.addEventListener('click',function(){b.gtn();});}else if(window.attachEvent){a.attachEvent('onclick',function(){b.gtn();});}else{a.onclick=function(){b.gtn();};}}function gtpEv(a,b){if(window.addEventListener){a.addEventListener('click',function(){b.gtp();});}else if(window.attachEvent){a.attachEvent('onclick',function(){b.gtp();});}else{a.onclick=function(){b.gtp();};}}window.JSCarousel=JSCarousel||{};})();
